version: "2"
run:
  concurrency: 4
  go: "1.24"
linters:
  enable:
    - gosec
    - revive
  disable:
    - unused
  settings:
    errcheck:
      exclude-functions:
        - (github.com/go-kit/kit/log.Logger).Log
        - (*github.com/weaveworks/common/logging.Level).Set
        - (*github.com/cortexproject/cortex/pkg/util/flagext.URLValue).Set
    gosec:
      excludes:
        - G115
  exclusions:
    generated: lax
    rules:
      - linters:
          - staticcheck
        text: 'SA1019:'
      - linters:
          - deadcode
        path: cmd/out_vali\.go
      - linters:
          - revive
          - errcheck
        path: tests/*
      - path: (.+)\.go$
        text: Error return value of .((os\.)?std(out|err)\..*|.*Close|.*Flush|os\.Remove(All)?|.*printf?|os\.(Un)?Setenv). is not checked
      - path: (.+)\.go$
        text: var-naming
      - path: (.+)\.go$
        text: dot-imports
      - path: (.+)\.go$
        text: package-comments
      - path: (.+)\.go$
        text: unexported-return
      - path: (.+)\.go$
        text: indent-error-flow
      - path: (.+)\.go$
        text: 'exported: (type|func) name will be used as .* by other packages, and that stutters;'
      - path: (.+)\.go$
        text: 'undeclared name: `.*`'
      - path: (.+)\.go$
        text: 'invalid operation: cannot compare .*'
      - path: (.+)\.go$
        text: client.StopWait undefined .*
      - path: (.+)\.go$
        text: could not import github.com/gardener/gardener/pkg/apis/core/v1beta1/constants .*
      - path: (.+)\.go$
        text: Error return value of `informer.AddEventHandler` is not checked
formatters:
  enable:
    - gci
    - gofmt
  settings:
    gci:
      sections:
        - standard
        - default
        - prefix(github.com/gardener/logging)
